<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>test</title>
</head>
<body>
<h1>await test</h1>

<div id="log" role="log"></div>

<my-element value="1" other="frog"></my-element>

<script  type="module">
import {html, render, define} from "../hybrids/index.js";

const renderTemplate = (host) => {
console.debug(keys, host);
//const values = keys.map(k => [k, host[k]]);
const values = keys.map(k => html`<p>${k}: ${host[k]}</p>`);


return html`
<fieldset>
<legend><h2>my-element</h2></legend>
${values}
</fieldset>
`;
} // renderTemplate



const descriptors = {
value: {
connect: (host, key) => host[key] = host.getAttribute(key),
observe: (host, value) => display("value", value)
},

other: {
connect: (host, key) => host[key] = host.getAttribute(key),
observe: (host, value) => display("other", value)
},

render: render(
(keys => renderTemplate)("other", "value")
)}; // descriptors

define ("my-element", descriptors);

function display (key, value) {
const p = document.createElement("p");
p.textContent = `${key}: ${value}\n`;
$("#log").appendChild(p);
} // display


function $ (s,c = document) {return c.querySelector(s);}
</script>

</body>
</html>
